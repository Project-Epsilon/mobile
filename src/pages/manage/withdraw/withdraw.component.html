<form [formGroup]="form" (ngSubmit)="withdraw()" novalidate>
<ion-card>
    <ion-card-content>

      <ion-item>
        <ion-label stacked>Amount</ion-label>
        <ion-input formControlName="amount"
          (input)="updateValidAmount()"
          type="number"
          placeholder="0.00"
          step="0.01"
          name="amount"
          [max]="maxAmount"
        ></ion-input>
      </ion-item>
      <div *ngIf="!validAmount">You only have {{maxAmount}} {{maxCurrency}}!</div>

      <ion-item>
        <ion-label stacked>Select Currency</ion-label>
        <ion-select formControlName="wallet" name="wallet" (ionChange)="updateValidAmount()">
          <ion-option *ngFor="let wallet of wallets" [value]="wallet">
            {{ wallet.currency_code }}   -   Balance: {{ wallet.balance }}
          </ion-option>
        </ion-select>
      </ion-item>

    </ion-card-content>
  </ion-card>

  <ion-card>
    <ion-card-content>
      <ion-label stacked>Paypal Email Address</ion-label>
      <ion-input formControlName="email"
        type="email"
        placeholder="example@example.com"
        name="email"
      ></ion-input>
    </ion-card-content>
  </ion-card>

  <button ion-button block type="submit" [disabled]="!form.valid || !validAmount">Withdraw with Paypal</button>
</form>
